<!DOCTYPE html>
<html>

<head>
  <title>A Factory of Atomic Objects </title>
  <!-- <script id="adobe_dtm" src="//www.redhat.com/dtm.js" type="text/javascript"></script> -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Infinispan is a distributed in-memory key/value data store with optional schema, available under the Apache License 2.0.">
  <link rel="shortcut icon" type="image/png" href="/infinispan/favicon.ico" >
  <link rel="stylesheet" href="/infinispan/assets/css/main.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <!-- Global site tag (gtag.js) - Google Analytics -->
<!--   <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125236544-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
 
    gtag('config', 'UA-125236544-1');
  </script> -->


</head>

<body class="blog">
  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
  <div class="container">
    <div class="logo-wrapper">
        <a href="/infinispan/"><img src="/infinispan/assets/images/infinispan-logo-white.png" class="project-logo" title="Infinispan Logo"></a>
    </div>
    <label class="nav-toggle" for="checkbox">
      <i class="fa fa-bars"></i>
    </label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="/infinispan/learn/">Learn <i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/infinispan/introduction" class="">Introduction</a></li>
          <li><a href="/infinispan/features" class="">Features</a></li>
          <li><a href="/infinispan/documentation" class="">Documentation</a></li>
          <li><a href="/infinispan/tutorials" class="">Tutorials</a></li>
          <li><a href="/infinispan/videos" class="">Videos</a></li>
          <li><a href="/infinispan/references" class="">References</a></li>
          <li><a href="/infinispan/experiments" class="">Experiments</a></li>
          <li><a href="/infinispan/roadmap" class="">Roadmap</a></li>
        </ul>
      </li>
      <li>
        <a href="/infinispan/use-cases/" class="">Use Cases</a>
      </li>
      <li>
        <a href="/infinispan/community/" class="">Community</a>
      </li>
      <li>
        <a href="/infinispan/blog/" class="active">Blog</a>
      </li>
      <li>
        <a href="/infinispan/download/" class="">Download</a>
      </li>
    </ul>
  </div>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    <div class="component-slim full-width-bg dark-bg light-blue">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <a href="/infinispan/blog">Blogs</a> <i class="fas fa-chevron-right"></i> A Factory of Atomic Objects 
    </div>
  </div>
</div>
<div class="post-page grid-wrapper">
  <div class="grid__item width-10-12 width-12-12-m doc-content">
    <h1>A Factory of Atomic Objects </h1>
    <div class="post-date">January 14, 2015
      Tags: 
    </div>
    <div class="grid-wrapper">
      <div class="grid__item width-8-12 width-12-12-m margin-tb-sm">
        <p class="byline">By Unknown</p>
      </div>
      <div class="grid__item width-12-12">
          <div class="paragraph">
<p>Distributed systems aggregate large numbers of heterogeneous components
that are subject to failures and asynchrony. To tame such a capricious
nature, systems designers resort to non-blocking techniques such as
<a href="http://en.wikipedia.org/wiki/State_machine_replication">state machine
replication.</a> This approach provides consistent
<a href="http://en.wikipedia.org/wiki/Non-blocking_algorithm">non-blocking</a>
operations to a shared object replicated at a quorum of machines. State
machine replication is a classical paradigm to consistently orchestrate
concurrency between remote processes in a distributed system, and as
such a weapon of choice to manage metadata operations. This approach is
at work in many services such as Apache
<a href="http://zookeeper.apache.org/">ZooKeeper</a>, Google
<a href="http://en.wikipedia.org/wiki/Distributed_lock_manager">Chubby</a>, or
<a href="http://openreplica.org/">Open Replica</a>.</p>
</div>
<div class="paragraph">
<p>The (experimental)
<a href="https://github.com/otrack/Leads-infinispan/tree/atomicObjectFactory/atomic-factory">atomic
object factory</a> module is an implementation of the state machine
replication paradigm over Infinispan. Using the factory is as simple as
employing the synchronized keyword in Java: it suffices to call it with
a Serializable class, and it wraps for you the dependability,
consistency and liveness guarantees of the instantiated object over
multiple Infinispan servers. The factory is universal in the sense that
it can instantiate an object of any (serializable) class atop an
Infinispan cache, making transparently the object replicated and
durable, while ensuring strong consistency despite concurrent access.</p>
</div>
<div class="paragraph">
<p>Basic Usage</p>
</div>
<div class="paragraph">
<p>Using the AtomicObjectFactory is fairly simple. We illustrate below a
base use case. Additional examples are provided in the maven test
directories.</p>
</div>
<div class="paragraph">
<p>AtomicObjectFactory factory = new AtomicObjectFactory(c1); // c1 is a
cache
Set set = (Set) factory.getInstanceOf(HashSet.class, "k"); // k is the
storage key
set.add("something"); // some call examples
System.out.println(set.toString())
set.addAll(set);
factory.disposeInstanceOf(HashSet.class, "set", true); // to
persistently store the object</p>
</div>
<div class="paragraph">
<p>Limitations &amp; Guarantees</p>
</div>
<div class="paragraph">
<p>The implementation requires that all the arguments of the methods of the
object are Serializable, as well as the object itself. An object created
by the factory is atomic provided that the cache which supports it is
both synchronous and transactional.</p>
</div>
<div class="paragraph">
<p>Going Further</p>
</div>
<div class="paragraph">
<p><strong>White Paper.</strong>
The factory is described in Section 4 of the paper titled "On the
Support of Versioning in Distributed Key-Value Stores" published at the
33rd IEEE Symposium on Reliable Distributed Systems (SRDS'14). A
preprint version of this paper is available at the following
<a href="https://drive.google.com/file/d/0BwFkGepvBDQoTEdPS0x6VXhqMW8/edit?usp=sharing">location</a>.</p>
</div>
<div class="paragraph">
<p><strong>High-level Implementation Details.</strong>
We built the factory on top of the transactional facility of Infinispan.
In more details, when the object is created, we store both a local copy
and a proxy registered as a cache listener. We serialize every call in a
transaction consisting of a single put operation. When the call is
de-serialized, it is applied to the local copy and, in case the calling
process was local, the response value is returned.</p>
</div>
          
      </div>
    </div>
  </div>
</div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/infinispan/"><img src="/infinispan/assets/images/infinispan-logo.png" class="project-logo" title="Infinispan Logo"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Infinispan is released under the Apache 2.0 open source license. Learn more about the <a href='LINK_NEEDED' target='_blank'>Apache Software License 2.0</a>.<br/><br/>This website built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a> is hosted on <a href='https://pages.github.com/' target='_blank'>Github Pages</a> and is completely open source. If you want to make it better, <a href='LINK_NEEDED' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <b>Navigation</b>
        <ul class="footer-links width-1-12">
          
            <li><a href="/">Home</a></li>
          
            <li><a href="/LINK_NEEDED">Features</a></li>
          
            <li><a href="/LINK_NEEDED">Docs</a></li>
          
            <li><a href="/LINK_NEEDED">Tutorials</a></li>
          
            <li><a href="/LINK_NEEDED">Videos</a></li>
          
            <li><a href="/LINK_NEEDED">Use Cases</a></li>
          
            <li><a href="/LINK_NEEDED">Community</a></li>
          
            <li><a href="/LINK_NEEDED">Download</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <b>Contribute</b>
        <ul class="footer-links width-1-12">
          
            <li><a href="https://issues.jboss.org/browse/ISPN">Submit a Bug</a></li>
          
            <li><a href="https://github.com/infinispan">Write Code</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <b>Follow Us</b>
        <ul class="footer-links width-1-12">
          
            <li><a href="/LINK_NEEDED">Blog</a></li>
          
            <li><a href="https://twitter.com/infinispan">Twitter</a></li>
          
        </ul>
      </div>
    

    <div class="width-6-12 more-links">
      <div class="grid-wrapper">
        <div class="width-6-12">
          <b>A Member of</b><br/>

          <a href="LINK_NEEDED" target="_blank"><img src="/infinispan/assets/images/footer/leads.png">
          </a>
          <a href="LINK_NEEDED" target="_blank"><img src="/infinispan/assets/images/footer/cloud-tm.png"></a>
          <br/>
          <a href="LINK_NEEDED" target="_blank"><img src="/infinispan/assets/images/footer/cloud-button.png"></a>

        </div>
        <div class="width-6-12">

          <b>Thanks to</b><br/>
          <a href="LINK_NEEDED" target="_blank">JetBrains Intellj IDEA</a><br/>
          <a href="LINK_NEEDED" target="_blank"><img src="/infinispan/assets/images/footer/jetbrains.png">
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
  <div class="content-slim redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a>
      | <a href="https://www.redhat.com/en/about/privacy-policy">Red Hat Privacy Policy</a>
    </span>
    <span class="redhat">
      a Red Hat sponsored project   
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/infinispan/assets/images/redhat_reversed.svg"></a>
    </span>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script type="text/javascript" src="/infinispan/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/infinispan/assets/javascript/truncate-list.js"></script>

<!--   <script type="text/javascript">
    if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
        _satellite.pageBottom();
    }
  </script> -->
</body>

</html>
